{"ast":null,"code":"import _objectSpread from\"/home/user/vraiart/vrai.art/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import api from'../services/api';import{useAuth}from'../contexts/AuthContext';import ProfilePhoto from'./ProfilePhoto';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Profile=()=>{const[profile,setProfile]=useState(null);const[loading,setLoading]=useState(true);const[error,setError]=useState('');const{logout}=useAuth();useEffect(()=>{fetchProfile();},[]);const fetchProfile=async()=>{try{setLoading(true);const response=await api.get('/profile');setProfile(response.data);setError('');}catch(err){setError('Failed to load profile');console.error('Error fetching profile:',err);}finally{setLoading(false);}};const formatDate=dateString=>{const date=new Date(dateString);return date.toLocaleDateString('en-US',{year:'numeric',month:'long',day:'numeric'});};if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"loading\",children:/*#__PURE__*/_jsx(\"h3\",{children:\"Loading profile...\"})});}if(error||!profile){return/*#__PURE__*/_jsx(\"div\",{className:\"alert alert-error\",children:error||'Failed to load profile'});}return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'30px'},children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Profile\"}),/*#__PURE__*/_jsx(\"p\",{style:{color:'#65676b',marginTop:'10px'},children:\"Manage your account and view your information\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Account Information\"}),/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:'20px'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'grid',gridTemplateColumns:'120px 1fr',gap:'15px',alignItems:'center',marginBottom:'15px'},children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Profile Photo:\"}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(ProfilePhoto,{currentPhoto:profile.profile_photo,onPhotoUpdate:newPhoto=>setProfile(_objectSpread(_objectSpread({},profile),{},{profile_photo:newPhoto})),size:\"large\",showUpload:true,username:profile.username})})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'grid',gridTemplateColumns:'120px 1fr',gap:'15px',alignItems:'center',marginBottom:'15px'},children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Username:\"}),/*#__PURE__*/_jsx(\"span\",{children:profile.username})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'grid',gridTemplateColumns:'120px 1fr',gap:'15px',alignItems:'center',marginBottom:'15px'},children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Email:\"}),/*#__PURE__*/_jsx(\"span\",{children:profile.email})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'grid',gridTemplateColumns:'120px 1fr',gap:'15px',alignItems:'center',marginBottom:'15px'},children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Member since:\"}),/*#__PURE__*/_jsx(\"span\",{children:formatDate(profile.created_at)})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Account Actions\"}),/*#__PURE__*/_jsx(\"div\",{style:{marginTop:'20px'},children:/*#__PURE__*/_jsx(\"button\",{onClick:logout,className:\"btn btn-danger\",children:\"Logout\"})}),/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:'15px',padding:'15px',backgroundColor:'#f8f9fa',borderRadius:'6px',fontSize:'14px',color:'#65676b'},children:[/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Note:\"}),\" This is a simplified social media platform. In a production environment, you would have additional features like:\"]}),/*#__PURE__*/_jsxs(\"ul\",{style:{marginTop:'10px',marginLeft:'20px'},children:[/*#__PURE__*/_jsx(\"li\",{children:\"Profile picture upload\"}),/*#__PURE__*/_jsx(\"li\",{children:\"Password change functionality\"}),/*#__PURE__*/_jsx(\"li\",{children:\"Account deletion\"}),/*#__PURE__*/_jsx(\"li\",{children:\"Privacy settings\"}),/*#__PURE__*/_jsx(\"li\",{children:\"Email verification\"})]})]})]})]});};export default Profile;","map":{"version":3,"names":["React","useState","useEffect","api","useAuth","ProfilePhoto","jsx","_jsx","jsxs","_jsxs","Profile","profile","setProfile","loading","setLoading","error","setError","logout","fetchProfile","response","get","data","err","console","formatDate","dateString","date","Date","toLocaleDateString","year","month","day","className","children","style","marginBottom","color","marginTop","display","gridTemplateColumns","gap","alignItems","currentPhoto","profile_photo","onPhotoUpdate","newPhoto","_objectSpread","size","showUpload","username","email","created_at","onClick","padding","backgroundColor","borderRadius","fontSize","marginLeft"],"sources":["/home/user/vraiart/vrai.art/client/src/components/Profile.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport api from '../services/api';\nimport { useAuth } from '../contexts/AuthContext';\nimport ProfilePhoto from './ProfilePhoto';\n\nconst Profile = () => {\n  const [profile, setProfile] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState('');\n  const { logout } = useAuth();\n\n  useEffect(() => {\n    fetchProfile();\n  }, []);\n\n  const fetchProfile = async () => {\n    try {\n      setLoading(true);\n      const response = await api.get('/profile');\n      setProfile(response.data);\n      setError('');\n    } catch (err) {\n      setError('Failed to load profile');\n      console.error('Error fetching profile:', err);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const formatDate = (dateString) => {\n    const date = new Date(dateString);\n    return date.toLocaleDateString('en-US', {\n      year: 'numeric',\n      month: 'long',\n      day: 'numeric'\n    });\n  };\n\n  if (loading) {\n    return (\n      <div className=\"loading\">\n        <h3>Loading profile...</h3>\n      </div>\n    );\n  }\n\n  if (error || !profile) {\n    return (\n      <div className=\"alert alert-error\">\n        {error || 'Failed to load profile'}\n      </div>\n    );\n  }\n\n  return (\n    <div>\n      <div style={{ marginBottom: '30px' }}>\n        <h1>Profile</h1>\n        <p style={{ color: '#65676b', marginTop: '10px' }}>\n          Manage your account and view your information\n        </p>\n      </div>\n\n      <div className=\"card\">\n        <h3>Account Information</h3>\n        \n        <div style={{ marginTop: '20px' }}>\n          <div style={{ \n            display: 'grid', \n            gridTemplateColumns: '120px 1fr', \n            gap: '15px', \n            alignItems: 'center',\n            marginBottom: '15px'\n          }}>\n            <strong>Profile Photo:</strong>\n            <div>\n              <ProfilePhoto\n                currentPhoto={profile.profile_photo}\n                onPhotoUpdate={(newPhoto) => setProfile({...profile, profile_photo: newPhoto})}\n                size=\"large\"\n                showUpload={true}\n                username={profile.username}\n              />\n            </div>\n          </div>\n          \n          <div style={{ \n            display: 'grid', \n            gridTemplateColumns: '120px 1fr', \n            gap: '15px', \n            alignItems: 'center',\n            marginBottom: '15px'\n          }}>\n            <strong>Username:</strong>\n            <span>{profile.username}</span>\n          </div>\n          \n          <div style={{ \n            display: 'grid', \n            gridTemplateColumns: '120px 1fr', \n            gap: '15px', \n            alignItems: 'center',\n            marginBottom: '15px'\n          }}>\n            <strong>Email:</strong>\n            <span>{profile.email}</span>\n          </div>\n          \n          <div style={{ \n            display: 'grid', \n            gridTemplateColumns: '120px 1fr', \n            gap: '15px', \n            alignItems: 'center',\n            marginBottom: '15px'\n          }}>\n            <strong>Member since:</strong>\n            <span>{formatDate(profile.created_at)}</span>\n          </div>\n        </div>\n      </div>\n\n      <div className=\"card\">\n        <h3>Account Actions</h3>\n        \n        <div style={{ marginTop: '20px' }}>\n          <button \n            onClick={logout} \n            className=\"btn btn-danger\"\n          >\n            Logout\n          </button>\n        </div>\n        \n        <div style={{ \n          marginTop: '15px', \n          padding: '15px', \n          backgroundColor: '#f8f9fa', \n          borderRadius: '6px',\n          fontSize: '14px',\n          color: '#65676b'\n        }}>\n          <p><strong>Note:</strong> This is a simplified social media platform. In a production environment, you would have additional features like:</p>\n          <ul style={{ marginTop: '10px', marginLeft: '20px' }}>\n            <li>Profile picture upload</li>\n            <li>Password change functionality</li>\n            <li>Account deletion</li>\n            <li>Privacy settings</li>\n            <li>Email verification</li>\n          </ul>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Profile; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}