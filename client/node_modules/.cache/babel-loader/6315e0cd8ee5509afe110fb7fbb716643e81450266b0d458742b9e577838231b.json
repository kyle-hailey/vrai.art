{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Link,useNavigate}from'react-router-dom';import api from'../services/api';import{useAuth}from'../contexts/AuthContext';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const Navbar=()=>{const{user,logout}=useAuth();const navigate=useNavigate();const[connectionCount,setConnectionCount]=useState(0);useEffect(()=>{if(user){fetchConnectionCount();}},[user]);const fetchConnectionCount=async()=>{try{const response=await api.get('/connections');setConnectionCount(response.data.length);}catch(err){console.error('Error fetching connection count:',err);}};const handleLogout=()=>{logout();navigate('/');};return/*#__PURE__*/_jsx(\"nav\",{className:\"navbar\",children:/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"navbar-content\",children:[/*#__PURE__*/_jsx(Link,{to:\"/\",className:\"navbar-brand\",children:\"Vrai.Art Social\"}),/*#__PURE__*/_jsx(\"div\",{className:\"navbar-nav\",children:user?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Link,{to:\"/\",className:\"nav-link\",children:\"Home\"}),/*#__PURE__*/_jsx(Link,{to:\"/create-post\",className:\"nav-link\",children:\"Create Post\"}),/*#__PURE__*/_jsx(Link,{to:\"/users\",className:\"nav-link\",children:\"Users\"}),/*#__PURE__*/_jsxs(Link,{to:\"/connections\",className:\"nav-link\",children:[\"Connections\",connectionCount>0&&/*#__PURE__*/_jsx(\"span\",{className:\"connection-badge\",children:connectionCount})]}),/*#__PURE__*/_jsx(Link,{to:\"/profile\",className:\"nav-link\",children:\"Profile\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleLogout,className:\"btn btn-secondary\",children:\"Logout\"})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Link,{to:\"/login\",className:\"nav-link\",children:\"Login\"}),/*#__PURE__*/_jsx(Link,{to:\"/register\",className:\"btn btn-primary\",children:\"Register\"})]})})]})})});};export default Navbar;","map":{"version":3,"names":["React","useState","useEffect","Link","useNavigate","api","useAuth","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Navbar","user","logout","navigate","connectionCount","setConnectionCount","fetchConnectionCount","response","get","data","length","err","console","error","handleLogout","className","children","to","onClick"],"sources":["/home/user/vraiart/vrai.art/client/src/components/Navbar.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Link, useNavigate } from 'react-router-dom';\nimport api from '../services/api';\nimport { useAuth } from '../contexts/AuthContext';\n\nconst Navbar = () => {\n  const { user, logout } = useAuth();\n  const navigate = useNavigate();\n  const [connectionCount, setConnectionCount] = useState(0);\n\n  useEffect(() => {\n    if (user) {\n      fetchConnectionCount();\n    }\n  }, [user]);\n\n  const fetchConnectionCount = async () => {\n    try {\n      const response = await api.get('/connections');\n      setConnectionCount(response.data.length);\n    } catch (err) {\n      console.error('Error fetching connection count:', err);\n    }\n  };\n\n  const handleLogout = () => {\n    logout();\n    navigate('/');\n  };\n\n  return (\n    <nav className=\"navbar\">\n      <div className=\"container\">\n        <div className=\"navbar-content\">\n          <Link to=\"/\" className=\"navbar-brand\">\n            Vrai.Art Social\n          </Link>\n          \n          <div className=\"navbar-nav\">\n            {user ? (\n              <>\n                <Link to=\"/\" className=\"nav-link\">\n                  Home\n                </Link>\n                <Link to=\"/create-post\" className=\"nav-link\">\n                  Create Post\n                </Link>\n                <Link to=\"/users\" className=\"nav-link\">\n                  Users\n                </Link>\n                <Link to=\"/connections\" className=\"nav-link\">\n                  Connections\n                  {connectionCount > 0 && (\n                    <span className=\"connection-badge\">\n                      {connectionCount}\n                    </span>\n                  )}\n                </Link>\n                <Link to=\"/profile\" className=\"nav-link\">\n                  Profile\n                </Link>\n                <button onClick={handleLogout} className=\"btn btn-secondary\">\n                  Logout\n                </button>\n              </>\n            ) : (\n              <>\n                <Link to=\"/login\" className=\"nav-link\">\n                  Login\n                </Link>\n                <Link to=\"/register\" className=\"btn btn-primary\">\n                  Register\n                </Link>\n              </>\n            )}\n          </div>\n        </div>\n      </div>\n    </nav>\n  );\n};\n\nexport default Navbar; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}