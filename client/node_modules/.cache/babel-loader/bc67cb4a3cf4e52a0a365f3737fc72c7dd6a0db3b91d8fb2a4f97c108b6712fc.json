{"ast":null,"code":"var _jsxFileName = \"/Users/kylehailey/cursor/vrai.art/client/src/components/ProfilePhoto.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport api from '../services/api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ProfilePhoto = ({\n  currentPhoto,\n  onPhotoUpdate,\n  size = 'medium',\n  showUpload = false,\n  username,\n  className = ''\n}) => {\n  _s();\n  const [uploading, setUploading] = useState(false);\n  const [error, setError] = useState('');\n  const handlePhotoUpload = async event => {\n    const file = event.target.files[0];\n    if (!file) return;\n\n    // Validate file type\n    if (!file.type.startsWith('image/')) {\n      setError('Please select an image file');\n      return;\n    }\n\n    // Validate file size (5MB limit)\n    if (file.size > 5 * 1024 * 1024) {\n      setError('File size must be less than 5MB');\n      return;\n    }\n    setUploading(true);\n    setError('');\n    try {\n      const formData = new FormData();\n      formData.append('photo', file);\n      const response = await api.post('/profile/photo', formData);\n      if (onPhotoUpdate) {\n        onPhotoUpdate(response.data.profile_photo);\n      }\n      setError('');\n    } catch (err) {\n      var _err$response, _err$response$data;\n      setError(((_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.error) || 'Failed to upload photo');\n    } finally {\n      setUploading(false);\n    }\n  };\n  const getPhotoUrl = photoFilename => {\n    if (!photoFilename) return null;\n    return `http://localhost:5000/uploads/${photoFilename}`;\n  };\n  const getSizeClasses = () => {\n    switch (size) {\n      case 'small':\n        return 'w-8 h-8 text-sm';\n      case 'large':\n        return 'w-24 h-24 text-2xl';\n      case 'xlarge':\n        return 'w-32 h-32 text-3xl';\n      default:\n        // medium\n        return 'w-12 h-12 text-lg';\n    }\n  };\n  const photoUrl = getPhotoUrl(currentPhoto);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `profile-photo-container ${className}`,\n    children: [photoUrl ? /*#__PURE__*/_jsxDEV(\"img\", {\n      src: photoUrl,\n      alt: `${username || 'User'}`,\n      className: `profile-photo ${getSizeClasses()} rounded-full object-cover`,\n      onError: e => {\n        e.target.style.display = 'none';\n        e.target.nextSibling.style.display = 'flex';\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 9\n    }, this) : null, (!photoUrl || size === 'large' || size === 'xlarge') && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `profile-photo-placeholder ${getSizeClasses()} rounded-full bg-gray-300 flex items-center justify-center text-gray-600 font-semibold`,\n      style: {\n        display: photoUrl ? 'none' : 'flex'\n      },\n      children: username ? username.charAt(0).toUpperCase() : 'U'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 9\n    }, this), showUpload && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"photo-upload-section mt-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"file\",\n        id: \"photo-upload\",\n        accept: \"image/*\",\n        onChange: handlePhotoUpload,\n        className: \"hidden\",\n        disabled: uploading\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"photo-upload\",\n        className: `btn ${uploading ? 'btn-disabled' : 'btn-primary'} cursor-pointer inline-block`,\n        children: uploading ? 'Uploading...' : 'Upload Photo'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 11\n      }, this), error && /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-red-500 text-sm mt-2\",\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 73,\n    columnNumber: 5\n  }, this);\n};\n_s(ProfilePhoto, \"HFIBoUVvkZDbPIJBG0JkMC/G5C4=\");\n_c = ProfilePhoto;\nexport default ProfilePhoto;\nvar _c;\n$RefreshReg$(_c, \"ProfilePhoto\");","map":{"version":3,"names":["React","useState","api","jsxDEV","_jsxDEV","ProfilePhoto","currentPhoto","onPhotoUpdate","size","showUpload","username","className","_s","uploading","setUploading","error","setError","handlePhotoUpload","event","file","target","files","type","startsWith","formData","FormData","append","response","post","data","profile_photo","err","_err$response","_err$response$data","getPhotoUrl","photoFilename","getSizeClasses","photoUrl","children","src","alt","onError","e","style","display","nextSibling","fileName","_jsxFileName","lineNumber","columnNumber","charAt","toUpperCase","id","accept","onChange","disabled","htmlFor","_c","$RefreshReg$"],"sources":["/Users/kylehailey/cursor/vrai.art/client/src/components/ProfilePhoto.js"],"sourcesContent":["import React, { useState } from 'react';\nimport api from '../services/api';\n\nconst ProfilePhoto = ({ \n  currentPhoto, \n  onPhotoUpdate, \n  size = 'medium', \n  showUpload = false,\n  username,\n  className = ''\n}) => {\n  const [uploading, setUploading] = useState(false);\n  const [error, setError] = useState('');\n\n  const handlePhotoUpload = async (event) => {\n    const file = event.target.files[0];\n    if (!file) return;\n\n    // Validate file type\n    if (!file.type.startsWith('image/')) {\n      setError('Please select an image file');\n      return;\n    }\n\n    // Validate file size (5MB limit)\n    if (file.size > 5 * 1024 * 1024) {\n      setError('File size must be less than 5MB');\n      return;\n    }\n\n    setUploading(true);\n    setError('');\n\n    try {\n      const formData = new FormData();\n      formData.append('photo', file);\n\n      const response = await api.post('/profile/photo', formData);\n      \n      if (onPhotoUpdate) {\n        onPhotoUpdate(response.data.profile_photo);\n      }\n      \n      setError('');\n    } catch (err) {\n      setError(err.response?.data?.error || 'Failed to upload photo');\n    } finally {\n      setUploading(false);\n    }\n  };\n\n  const getPhotoUrl = (photoFilename) => {\n    if (!photoFilename) return null;\n    return `http://localhost:5000/uploads/${photoFilename}`;\n  };\n\n  const getSizeClasses = () => {\n    switch (size) {\n      case 'small':\n        return 'w-8 h-8 text-sm';\n      case 'large':\n        return 'w-24 h-24 text-2xl';\n      case 'xlarge':\n        return 'w-32 h-32 text-3xl';\n      default: // medium\n        return 'w-12 h-12 text-lg';\n    }\n  };\n\n  const photoUrl = getPhotoUrl(currentPhoto);\n\n  return (\n    <div className={`profile-photo-container ${className}`}>\n      {photoUrl ? (\n        <img\n          src={photoUrl}\n          alt={`${username || 'User'}`}\n          className={`profile-photo ${getSizeClasses()} rounded-full object-cover`}\n          onError={(e) => {\n            e.target.style.display = 'none';\n            e.target.nextSibling.style.display = 'flex';\n          }}\n        />\n      ) : null}\n      \n      {(!photoUrl || size === 'large' || size === 'xlarge') && (\n        <div \n          className={`profile-photo-placeholder ${getSizeClasses()} rounded-full bg-gray-300 flex items-center justify-center text-gray-600 font-semibold`}\n          style={{ display: photoUrl ? 'none' : 'flex' }}\n        >\n          {username ? username.charAt(0).toUpperCase() : 'U'}\n        </div>\n      )}\n\n      {showUpload && (\n        <div className=\"photo-upload-section mt-4\">\n          <input\n            type=\"file\"\n            id=\"photo-upload\"\n            accept=\"image/*\"\n            onChange={handlePhotoUpload}\n            className=\"hidden\"\n            disabled={uploading}\n          />\n          <label\n            htmlFor=\"photo-upload\"\n            className={`btn ${uploading ? 'btn-disabled' : 'btn-primary'} cursor-pointer inline-block`}\n          >\n            {uploading ? 'Uploading...' : 'Upload Photo'}\n          </label>\n          \n          {error && (\n            <p className=\"text-red-500 text-sm mt-2\">{error}</p>\n          )}\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default ProfilePhoto; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}