{"ast":null,"code":"import React,{useState,useRef}from'react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ImageUpload=_ref=>{let{onImageSelect,onImageRemove,selectedImage}=_ref;const[isDragOver,setIsDragOver]=useState(false);const[preview,setPreview]=useState(selectedImage?URL.createObjectURL(selectedImage):null);const fileInputRef=useRef(null);const handleDragOver=e=>{e.preventDefault();setIsDragOver(true);};const handleDragLeave=e=>{e.preventDefault();setIsDragOver(false);};const handleDrop=e=>{e.preventDefault();setIsDragOver(false);const files=e.dataTransfer.files;if(files.length>0){handleFileSelect(files[0]);}};const handleFileSelect=file=>{if(file&&file.type.startsWith('image/')){if(file.size>5*1024*1024){// 5MB limit\nalert('File size must be less than 5MB');return;}onImageSelect(file);setPreview(URL.createObjectURL(file));}else{alert('Please select a valid image file');}};const handleFileInput=e=>{const file=e.target.files[0];if(file){handleFileSelect(file);}};const handleRemoveImage=()=>{onImageRemove();setPreview(null);if(fileInputRef.current){fileInputRef.current.value='';}};const handleClick=()=>{var _fileInputRef$current;(_fileInputRef$current=fileInputRef.current)===null||_fileInputRef$current===void 0?void 0:_fileInputRef$current.click();};return/*#__PURE__*/_jsxs(\"div\",{className:\"image-upload-container\",children:[/*#__PURE__*/_jsx(\"input\",{ref:fileInputRef,type:\"file\",accept:\"image/*\",onChange:handleFileInput,style:{display:'none'}}),!preview?/*#__PURE__*/_jsx(\"div\",{className:\"image-upload-area \".concat(isDragOver?'drag-over':''),onDragOver:handleDragOver,onDragLeave:handleDragLeave,onDrop:handleDrop,onClick:handleClick,children:/*#__PURE__*/_jsxs(\"div\",{className:\"upload-content\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"upload-icon\",children:\"\\uD83D\\uDCF7\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Drag and drop an image here, or click to select\"}),/*#__PURE__*/_jsx(\"p\",{className:\"upload-hint\",children:\"Supports: JPG, PNG, GIF (Max: 5MB)\"})]})}):/*#__PURE__*/_jsxs(\"div\",{className:\"image-preview-container\",children:[/*#__PURE__*/_jsx(\"img\",{src:preview,alt:\"Preview\",className:\"image-preview\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"remove-image-btn\",onClick:handleRemoveImage,title:\"Remove image\",children:\"\\u2715\"})]})]});};export default ImageUpload;","map":{"version":3,"names":["React","useState","useRef","jsx","_jsx","jsxs","_jsxs","ImageUpload","_ref","onImageSelect","onImageRemove","selectedImage","isDragOver","setIsDragOver","preview","setPreview","URL","createObjectURL","fileInputRef","handleDragOver","e","preventDefault","handleDragLeave","handleDrop","files","dataTransfer","length","handleFileSelect","file","type","startsWith","size","alert","handleFileInput","target","handleRemoveImage","current","value","handleClick","_fileInputRef$current","click","className","children","ref","accept","onChange","style","display","concat","onDragOver","onDragLeave","onDrop","onClick","src","alt","title"],"sources":["/Users/kylehailey/cursor/vrai.art/client/src/components/ImageUpload.js"],"sourcesContent":["import React, { useState, useRef } from 'react';\n\nconst ImageUpload = ({ onImageSelect, onImageRemove, selectedImage }) => {\n  const [isDragOver, setIsDragOver] = useState(false);\n  const [preview, setPreview] = useState(selectedImage ? URL.createObjectURL(selectedImage) : null);\n  const fileInputRef = useRef(null);\n\n  const handleDragOver = (e) => {\n    e.preventDefault();\n    setIsDragOver(true);\n  };\n\n  const handleDragLeave = (e) => {\n    e.preventDefault();\n    setIsDragOver(false);\n  };\n\n  const handleDrop = (e) => {\n    e.preventDefault();\n    setIsDragOver(false);\n    \n    const files = e.dataTransfer.files;\n    if (files.length > 0) {\n      handleFileSelect(files[0]);\n    }\n  };\n\n  const handleFileSelect = (file) => {\n    if (file && file.type.startsWith('image/')) {\n      if (file.size > 5 * 1024 * 1024) { // 5MB limit\n        alert('File size must be less than 5MB');\n        return;\n      }\n      \n      onImageSelect(file);\n      setPreview(URL.createObjectURL(file));\n    } else {\n      alert('Please select a valid image file');\n    }\n  };\n\n  const handleFileInput = (e) => {\n    const file = e.target.files[0];\n    if (file) {\n      handleFileSelect(file);\n    }\n  };\n\n  const handleRemoveImage = () => {\n    onImageRemove();\n    setPreview(null);\n    if (fileInputRef.current) {\n      fileInputRef.current.value = '';\n    }\n  };\n\n  const handleClick = () => {\n    fileInputRef.current?.click();\n  };\n\n  return (\n    <div className=\"image-upload-container\">\n      <input\n        ref={fileInputRef}\n        type=\"file\"\n        accept=\"image/*\"\n        onChange={handleFileInput}\n        style={{ display: 'none' }}\n      />\n      \n      {!preview ? (\n        <div\n          className={`image-upload-area ${isDragOver ? 'drag-over' : ''}`}\n          onDragOver={handleDragOver}\n          onDragLeave={handleDragLeave}\n          onDrop={handleDrop}\n          onClick={handleClick}\n        >\n          <div className=\"upload-content\">\n            <div className=\"upload-icon\">ðŸ“·</div>\n            <p>Drag and drop an image here, or click to select</p>\n            <p className=\"upload-hint\">Supports: JPG, PNG, GIF (Max: 5MB)</p>\n          </div>\n        </div>\n      ) : (\n        <div className=\"image-preview-container\">\n          <img src={preview} alt=\"Preview\" className=\"image-preview\" />\n          <button\n            type=\"button\"\n            className=\"remove-image-btn\"\n            onClick={handleRemoveImage}\n            title=\"Remove image\"\n          >\n            âœ•\n          </button>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default ImageUpload; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}